@import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&family=Outfit:wght@100..900&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    :root {
        /* 
      Modern Dark Theme based on instructions:
      Primary: Deep Indigo/Navy Blue
      Secondary: Vibrant Teal/Emerald Green
      Accent: Electric Yellow/Bright Orange
    */
        --background: 224 71% 4%;
        /* Deep dark blue */
        --foreground: 210 40% 98%;

        --card: 224 71% 5%;
        /* Slightly transparent potential later */
        --card-foreground: 210 40% 98%;

        --popover: 224 71% 4%;
        --popover-foreground: 210 40% 98%;

        --primary: 217 91% 67%;
        /* Adjusted Brighter Blue for Contrast (WCAG AAA) */
        --primary-foreground: 224 71% 4%;

        --secondary: 160 84% 39%;
        /* Vibrant Teal */
        --secondary-foreground: 210 40% 98%;

        --muted: 217 33% 17%;
        --muted-foreground: 215 20% 75%;

        --accent: 217 91% 67%;
        /* Match Primary */
        --accent-foreground: 224 71% 4%;

        --destructive: 0 84% 70%;
        --destructive-foreground: 210 40% 98%;

        --border: 217 33% 20%;
        --input: 217 33% 17%;
        --ring: 217 91% 60%;

        --radius: 0.75rem;
    }

    .dark {
        /* Already in root, but keeping structure if we add light mode later */
        --background: 224 71% 4%;
        --foreground: 210 40% 98%;
        /* ... */
    }
}

@layer base {
    * {
        @apply border-border;
    }

    html {
        scroll-behavior: smooth;
    }

    body {
        @apply bg-background text-foreground antialiased font-sans;
    }

    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
        @apply font-heading;
    }
}

/* Glassmorphism utilities */
.glass {
    @apply bg-background/60 backdrop-blur-xl border border-white/10;
}

.glass-card {
    @apply bg-card/40 backdrop-blur-md border border-white/5;
}

/* 3D flip-card helpers */
.flip-card {
    perspective: 1200px;
}

.flip-card-inner {
    position: relative;
    transform-style: preserve-3d;
    transition: transform 650ms cubic-bezier(0.2, 0.8, 0.2, 1);
    will-change: transform;
    transform: rotateY(var(--flip, 0deg)) rotateX(var(--tilt-x, 0deg)) rotateY(var(--tilt-y, 0deg));
}

.flip-card.is-flipped {
    --flip: 180deg;
}

.flip-card-face {
    backface-visibility: hidden;
    -webkit-backface-visibility: hidden;
    transform-style: preserve-3d;
}

.flip-card-back {
    transform: rotateY(180deg);
}

/* Custom animations */
@keyframes gradient {

    0%,
    100% {
        background-position: 0% 50%;
    }

    50% {
        background-position: 100% 50%;
    }
}

@keyframes card-pattern-drift {

    0%,
    100% {
        transform: translate3d(0%, 0%, 0) scale(1.04) rotate(0deg);
        filter: hue-rotate(0deg);
    }

    50% {
        transform: translate3d(-2.5%, -1.5%, 0) scale(1.08) rotate(1.5deg);
        filter: hue-rotate(10deg);
    }
}

.card-pattern-animate {
    animation: card-pattern-drift 6s ease-in-out infinite;
    will-change: transform, filter;
}

.card-spotlight {
    opacity: 0;
    transition: opacity 250ms ease;
    background: radial-gradient(520px circle at var(--spot-x, 50%) var(--spot-y, 35%),
            hsl(var(--primary) / 0.35),
            hsl(var(--primary) / 0.15) 22%,
            rgba(255, 255, 255, 0.00) 58%);
}

.group:hover .card-spotlight {
    opacity: 1;
}

@keyframes card-dot-pulse {

    0%,
    100% {
        opacity: 0.35;
        filter: saturate(1.2) brightness(1.0);
    }

    50% {
        opacity: 0.65;
        filter: saturate(1.6) brightness(1.08);
    }
}

.card-dot-grid {
    opacity: 0;
    transition: opacity 250ms ease;
    background-image:
        radial-gradient(circle, hsl(var(--primary) / 0.45) 1px, rgba(0, 0, 0, 0) 1px),
        radial-gradient(circle, hsl(var(--secondary) / 0.35) 1px, rgba(0, 0, 0, 0) 1px);
    background-size: 18px 18px;
    background-position:
        var(--grid-x, 0px) var(--grid-y, 0px),
        calc(var(--grid-x, 0px) + 9px) calc(var(--grid-y, 0px) + 9px);
    mask-image: radial-gradient(260px circle at var(--spot-x, 50%) var(--spot-y, 35%), #000 0%, rgba(0, 0, 0, 0) 72%);
    -webkit-mask-image: radial-gradient(260px circle at var(--spot-x, 50%) var(--spot-y, 35%), #000 0%, rgba(0, 0, 0, 0) 72%);
    animation: card-dot-pulse 3.8s ease-in-out infinite;
    will-change: background-position, opacity, filter;
}

.group:hover .card-dot-grid {
    opacity: 1;
}

/* Performance optimizations */
.gpu-accelerated {
    transform: translateZ(0);
    will-change: transform, opacity;
    backface-visibility: hidden;
}

.animate-gradient {
    background-size: 200% 200%;
    animation: gradient 5s ease infinite;
    will-change: background-position;
}


@keyframes gradient-shift {
    0% {
        background-position: 0% 50%;
    }

    50% {
        background-position: 100% 50%;
    }

    100% {
        background-position: 0% 50%;
    }
}

@keyframes pulse-slow {

    0%,
    100% {
        opacity: 0.3;
    }

    50% {
        opacity: 0.4;
    }
}

.animate-gradient-shift {
    background-size: 200% 200%;
    animation: gradient-shift 15s ease infinite;
}

.animate-pulse-slow {
    animation: pulse-slow 8s ease-in-out infinite;
}

.glass-card {
    background: rgba(255, 255, 255, 0.03);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.1);
}

/* Ensure the card has proper 3D transform for the flip effect */
.flip-card-face {
    transform-style: preserve-3d;
    transition: transform 0.8s cubic-bezier(0.4, 0.2, 0.2, 1);
}

/* 3D Transform Utilities */
.perspective-1000 {
    perspective: 1000px;
}

.transform-style-3d {
    transform-style: preserve-3d;
}

.backface-hidden {
    backface-visibility: hidden;
    -webkit-backface-visibility: hidden;
}

.rotate-y-180 {
    transform: rotateY(180deg);
}